<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rajan Gyawali — Computational Biology &amp; ML Researcher</title>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=IBM+Plex+Sans:wght@300;400;500&family=IBM+Plex+Mono:wght@300;400&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:       #f7f6f3;
      --surface:  #ffffff;
      --surface2: #f0eeea;
      --border:   #e2dfd8;
      --border2:  #c8c4bc;
      --navy:     #1a2540;
      --accent:   #2b5ce6;
      --acc-lt:   #e8eefb;
      --green:    #1a7a4a;
      --grn-lt:   #e6f4ed;
      --amber:    #8a5200;
      --amb-lt:   #fdf3e3;
      --text:     #1a1a1a;
      --body:     #333333;
      --mid:      #4a5270;
      --sub:      #5c6480;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; font-size: 16px; }
    body { background: var(--bg); color: var(--text); font-family: 'IBM Plex Sans', sans-serif; font-weight: 300; line-height: 1.7; -webkit-font-smoothing: antialiased; }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 3px; }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 0 2.25rem; }

    /* ── NAV ── */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 200;
      background: rgba(247,246,243,0.94);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--border);
    }
    .nav-in {
      max-width: 1100px; margin: 0 auto; padding: 0 2.25rem;
      height: 58px; display: flex; align-items: center; justify-content: space-between;
    }
    .nav-brand { font-family: 'Lora', serif; font-size: 1.1rem; font-weight: 500; color: var(--navy); text-decoration: none; }
    .nav-links { display: flex; gap: 1.8rem; list-style: none; }
    .nav-links a { font-size: 0.82rem; color: var(--sub); text-decoration: none; letter-spacing: 0.02em; transition: color .15s; }
    .nav-links a:hover, .nav-links a.act { color: var(--accent); }
    .nav-cv { font-size: 0.82rem !important; font-weight: 500 !important; padding: 0.4rem 1.05rem; background: var(--navy) !important; color: #fff !important; border-radius: 3px; }
    .nav-cv:hover { background: var(--accent) !important; text-decoration: none !important; }

    /* ── HERO ── */
    .hero { padding: 116px 0 76px; border-bottom: 1px solid var(--border); }
    .hero-in { display: grid; grid-template-columns: auto 1fr; gap: 3.75rem; align-items: center; }

    /* Circular photo */
    .photo-wrap { flex-shrink: 0; }
    .photo-circle {
      width: 190px; height: 190px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid #fff;
      box-shadow: 0 0 0 3px var(--border2), 0 8px 28px rgba(26,37,64,.13);
      background: var(--surface2);
    }
    .photo-circle img { width: 100%; height: 100%; object-fit: cover; object-position: center top; display: block; }
    .photo-initials {
      display: none; width: 100%; height: 100%;
      align-items: center; justify-content: center;
      font-family: 'Lora', serif; font-size: 4rem; color: var(--border2);
    }

    /* Hero text */
    .hero-badge {
      display: inline-flex; align-items: center; gap: 0.5rem;
      font-family: 'IBM Plex Mono', monospace; font-size: 0.72rem;
      letter-spacing: 0.12em; text-transform: uppercase;
      color: var(--green); background: var(--grn-lt);
      border: 1px solid #a8d9be; border-radius: 2px;
      padding: 0.22rem 0.7rem; margin-bottom: 1.1rem;
    }
    .badge-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--green); animation: blink 2s infinite; }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.35} }

    h1.name {
      font-family: 'Lora', serif; font-size: clamp(2.6rem, 4vw, 3.5rem);
      font-weight: 500; line-height: 1.08; color: var(--navy); margin-bottom: 0.3rem;
    }
    .hero-role { font-size: 1.08rem; font-weight: 400; color: var(--mid); margin-bottom: 0.2rem; }
    .hero-affil { font-size: 0.95rem; color: var(--sub); margin-bottom: 1.5rem; }
    .hero-affil strong { color: var(--mid); font-weight: 500; }

    .hero-bio {
      font-size: 1rem; color: var(--body); line-height: 1.88;
      max-width: 700px; margin-bottom: 1.75rem;
      border-left: 3px solid var(--accent); padding-left: 1.1rem;
    }

    .hero-btns { display: flex; gap: 0.7rem; flex-wrap: wrap; margin-bottom: 1.6rem; }
    .btn {
      display: inline-flex; align-items: center; gap: 0.4rem;
      padding: 0.52rem 1.2rem; border-radius: 3px; font-size: 0.85rem;
      font-weight: 400; text-decoration: none; transition: all .15s;
      cursor: pointer; border: none;
    }
    .btn-solid { background: var(--navy); color: #fff; }
    .btn-solid:hover { background: var(--accent); color: #fff; text-decoration: none; }
    .btn-ghost { background: transparent; color: var(--mid); border: 1px solid var(--border2); }
    .btn-ghost:hover { border-color: var(--accent); color: var(--accent); text-decoration: none; }

    .hero-chips { display: flex; flex-wrap: wrap; gap: 1.3rem; }
    .chip { display: flex; align-items: center; gap: 0.45rem; font-size: 0.9rem; color: var(--mid); text-decoration: none; }
    .chip:hover { color: var(--accent); text-decoration: none; }
    .chip svg { opacity: 0.65; flex-shrink: 0; }

    /* ── SECTION TEMPLATE ── */
    .sec { padding: 4.75rem 0; border-bottom: 1px solid var(--border); }
    .sec:last-of-type { border-bottom: none; }
    h2.sec-title { font-family: 'Lora', serif; font-size: 2.4rem; font-weight: 500; color: var(--navy); margin-bottom: 2.4rem; line-height: 1.15; border-bottom: 2px solid var(--border); padding-bottom: 0.75rem; }

    /* ── RESEARCH PROJECTS (1 per row, image + text) ── */
    .projects { display: flex; flex-direction: column; gap: 2rem; }
    .project {
      background: var(--surface); border: 1px solid var(--border);
      border-radius: 6px; overflow: hidden;
      display: grid; grid-template-columns: 420px 1fr;
      transition: border-color .2s, box-shadow .2s;
      position: relative;
    }
    .project:hover { border-color: var(--border2); box-shadow: 0 6px 28px rgba(0,0,0,.08); }

    /* Accent bar on left edge */
    .project::before {
      content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 4px;
    }
    .proj-blue::before  { background: var(--accent); }
    .proj-green::before { background: var(--green); }
    .proj-amber::before { background: #d07a00; }

    /* Image panel */
    .proj-img {
      position: relative; overflow: hidden;
      background: var(--surface2);
      min-height: 260px;
      display: flex; align-items: center; justify-content: center;
    }
    .proj-img img {
      width: 100%; height: 100%; object-fit: cover; object-position: center;
      display: block; transition: transform .3s ease;
      /* Show a styled placeholder area when src is missing/broken */
      min-height: 260px;
      background: repeating-linear-gradient(
        -45deg,
        var(--surface2) 0px,
        var(--surface2) 10px,
        var(--border) 10px,
        var(--border) 11px
      );
      color: transparent;
    }
    .proj-img img::after {
      content: attr(alt);
      display: flex; align-items: center; justify-content: center;
      position: absolute; inset: 0;
      font-family: 'IBM Plex Mono', monospace; font-size: 0.78rem;
      color: var(--sub); text-align: center; padding: 1rem;
      background: var(--surface2);
    }
    .project:hover .proj-img img { transform: scale(1.02); }
    .proj-img-caption {
      position: absolute; bottom: 0; left: 0; right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,.55));
      color: rgba(255,255,255,.9); font-size: 0.72rem;
      font-family: 'IBM Plex Mono', monospace; letter-spacing: 0.04em;
      padding: 1.5rem 0.85rem 0.6rem;
    }

    /* Text panel */
    .proj-body { padding: 2rem 2rem 2rem 2.4rem; display: flex; flex-direction: column; justify-content: center; }
    .proj-num {
      font-family: 'IBM Plex Mono', monospace; font-size: 0.65rem;
      letter-spacing: 0.18em; text-transform: uppercase; color: var(--sub);
      margin-bottom: 0.5rem;
    }
    .proj-tag {
      display: inline-block; font-family: 'IBM Plex Mono', monospace; font-size: 0.63rem;
      letter-spacing: 0.13em; text-transform: uppercase;
      padding: 0.18rem 0.58rem; border-radius: 2px; margin-bottom: 0.9rem;
    }
    .pt-blue  { background: var(--acc-lt); color: #1a3db5; }
    .pt-green { background: var(--grn-lt); color: #145c38; }
    .pt-amber { background: var(--amb-lt); color: #7a4200; }

    .proj-title { font-family: 'Lora', serif; font-size: 1.28rem; font-weight: 500; color: var(--navy); margin-bottom: 0.7rem; line-height: 1.35; }
    .proj-desc  { font-size: 0.95rem; color: var(--body); line-height: 1.78; margin-bottom: 1rem; }
    .proj-pills { display: flex; flex-wrap: wrap; gap: 0.45rem; margin-bottom: 1.1rem; }
    .pill { font-size: 0.8rem; color: var(--mid); background: var(--surface2); border: 1px solid var(--border); border-radius: 20px; padding: 0.14rem 0.7rem; }
    .proj-meta { font-family: 'IBM Plex Mono', monospace; font-size: 0.75rem; color: var(--sub); display: flex; gap: 1.2rem; flex-wrap: wrap; }
    .proj-meta a { color: var(--accent); text-decoration: none; }
    .proj-meta a:hover { text-decoration: underline; }
    .proj-meta strong { color: var(--navy); }

    @media(max-width:880px){
      .project { grid-template-columns: 1fr; }
      .proj-img { min-height: 200px; }
    }

    /* ── PUBLICATIONS ── */
    .pub-filters { display: flex; gap: 0.5rem; margin-bottom: 1.85rem; flex-wrap: wrap; }
    .f-btn {
      font-family: 'IBM Plex Mono', monospace; font-size: 0.7rem; letter-spacing: 0.1em;
      text-transform: uppercase; padding: 0.3rem 0.88rem;
      border: 1px solid var(--border); border-radius: 2px;
      background: transparent; color: var(--sub); cursor: pointer; transition: all .15s;
    }
    .f-btn:hover, .f-btn.on { background: var(--navy); color: #fff; border-color: var(--navy); }

    /* CSS counter auto-numbering via data-n attribute (set by JS) */
    .pub-list { display: flex; flex-direction: column; }
    .pub { display: grid; grid-template-columns: 42px 1fr; gap: 1.3rem; padding: 1.6rem 0; border-bottom: 1px solid var(--border); align-items: start; }
    .pub[style*="display: none"], .pub[style*="display:none"] { display: none !important; }
    .pub:last-child { border-bottom: none; }
    .pub-n { font-family: 'IBM Plex Mono', monospace; font-size: 0.78rem; color: var(--sub); text-align: right; padding-top: 0.22rem; }

    .pub-title { font-family: 'Lora', serif; font-size: 1.05rem; font-weight: 500; color: var(--navy); line-height: 1.5; margin-bottom: 0.4rem; }
    .pub-auth { font-size: 0.9rem; color: var(--body); margin-bottom: 0.25rem; }
    .pub-auth strong { color: var(--navy); font-weight: 600; }
    .pub-venue { font-size: 0.88rem; color: var(--sub); font-style: italic; margin-bottom: 0.6rem; }
    .pub-row { display: flex; gap: 0.6rem; flex-wrap: wrap; align-items: center; }
    .badge {
      font-family: 'IBM Plex Mono', monospace; font-size: 0.62rem;
      letter-spacing: 0.12em; text-transform: uppercase;
      padding: 0.15rem 0.48rem; border-radius: 2px;
    }
    .bj { background: var(--acc-lt); color: #1a3db5; }
    .bc { background: #f0eafa; color: #52309a; }
    .bd { background: var(--amb-lt); color: #7a4200; }
    .bp { background: #fff0ee; color: #a02010; }
    .be { background: #eaf7f0; color: #145c38; }
    .pub-lnk { font-size: 0.84rem; color: var(--accent); text-decoration: none; }
    .pub-lnk:hover { text-decoration: underline; }
    .abs-btn {
      font-family: 'IBM Plex Mono', monospace; font-size: 0.67rem;
      letter-spacing: 0.08em; text-transform: uppercase;
      color: var(--sub); background: none; border: none; cursor: pointer;
      padding: 0; margin-left: auto; transition: color .15s;
    }
    .abs-btn:hover { color: var(--mid); }
    .abs-text {
      display: none; margin-top: 0.8rem; font-size: 0.91rem; color: var(--body);
      line-height: 1.78; background: var(--surface2); border-radius: 3px;
      padding: 0.9rem 1.1rem; border-left: 2px solid var(--border2);
    }
    .pub.open .abs-text { display: block; }

    /* ── EXPERIENCE ── */
    .exp { display: grid; grid-template-columns: 190px 1fr; gap: 2.2rem; padding: 2.25rem 0; border-bottom: 1px solid var(--border); }
    .exp:last-child { border-bottom: none; }
    .exp-when { font-family: 'IBM Plex Mono', monospace; font-size: 0.74rem; color: var(--sub); margin-bottom: 0.38rem; letter-spacing: 0.04em; }
    .exp-org  { font-size: 0.9rem; font-weight: 500; color: var(--navy); margin-bottom: 0.15rem; }
    .exp-loc  { font-size: 0.84rem; color: var(--sub); }
    .exp-role { font-family: 'Lora', serif; font-size: 1.15rem; font-weight: 500; color: var(--navy); margin-bottom: 1rem; }
    .exp-ul   { list-style: none; display: flex; flex-direction: column; gap: 0.55rem; }
    .exp-ul li { font-size: 0.94rem; color: var(--body); padding-left: 1.35rem; position: relative; line-height: 1.7; }
    .exp-ul li::before { content: '—'; position: absolute; left: 0; color: var(--accent); }
    .exp-ul li strong { color: var(--navy); font-weight: 600; }

    /* ── EDUCATION ── */
    .edu { display: grid; grid-template-columns: 190px 1fr; gap: 2.2rem; padding: 2.25rem 0; border-bottom: 1px solid var(--border); }
    .edu:last-child { border-bottom: none; }
    .edu-when { font-family: 'IBM Plex Mono', monospace; font-size: 0.74rem; color: var(--sub); letter-spacing: 0.04em; }
    .edu-deg  { font-family: 'Lora', serif; font-size: 1.15rem; font-weight: 500; color: var(--navy); margin-bottom: 0.25rem; }
    .edu-sch  { font-size: 0.94rem; color: var(--mid); margin-bottom: 0.45rem; }
    .edu-pct  { font-family: 'IBM Plex Mono', monospace; font-size: 0.73rem; color: var(--sub); border: 1px solid var(--border); border-radius: 2px; padding: 0.1rem 0.55rem; display: inline-block; margin-bottom: 0.7rem; }
    .edu-det  { font-size: 0.92rem; color: var(--body); line-height: 1.73; }
    .edu-det p { margin-bottom: 0.3rem; }
    .edu-det strong { color: var(--navy); font-weight: 600; }

    /* ── SKILLS ── */
    .sk-table { width: 100%; border-collapse: collapse; }
    .sk-table tr { border-bottom: 1px solid var(--border); }
    .sk-table tr:last-child { border-bottom: none; }
    .sk-table td { padding: 0.95rem 0; vertical-align: top; }
    .sk-table td:first-child {
      font-family: 'IBM Plex Mono', monospace; font-size: 0.72rem;
      letter-spacing: 0.1em; text-transform: uppercase; color: #1a3db5;
      width: 205px; padding-right: 1.5rem; white-space: nowrap; padding-top: 1.05rem;
    }
    .tags { display: flex; flex-wrap: wrap; gap: 0.5rem; }
    .tag {
      font-size: 0.89rem; color: var(--mid); background: var(--surface);
      border: 1px solid var(--border); border-radius: 3px; padding: 0.22rem 0.68rem;
      transition: all .15s; cursor: default;
    }
    .tag:hover { border-color: var(--accent); color: var(--accent); background: var(--acc-lt); }

    /* ── AWARDS & SERVICE ── */
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; }
    .sub-h { font-family: 'Lora', serif; font-size: 1.15rem; font-weight: 500; color: var(--navy); margin-bottom: 1.2rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border); }
    .aw-list { list-style: none; display: flex; flex-direction: column; gap: 0.75rem; }
    .aw-list li { font-size: 0.94rem; color: var(--body); display: flex; gap: 0.8rem; align-items: baseline; }
    .aw-yr { font-family: 'IBM Plex Mono', monospace; font-size: 0.72rem; color: var(--accent); flex-shrink: 0; }
    .sv-list { list-style: none; display: flex; flex-direction: column; gap: 0.72rem; }
    .sv-list li { font-size: 0.94rem; color: var(--body); padding-left: 0.95rem; border-left: 2px solid var(--border2); line-height: 1.65; }
    .sv-list li strong { color: var(--navy); font-weight: 600; }

    /* ── TALKS ── */
    .talk-list { display: flex; flex-direction: column; gap: 1.4rem; }
    .talk { display: grid; grid-template-columns: 78px 1fr; gap: 1.6rem; align-items: start; }
    .talk-yr { font-family: 'IBM Plex Mono', monospace; font-size: 0.74rem; color: var(--sub); text-align: right; padding-top: 0.15rem; }
    .talk-title  { font-size: 0.97rem; font-weight: 500; color: var(--navy); margin-bottom: 0.22rem; }
    .talk-venue  { font-size: 0.88rem; color: var(--sub); }

    /* ── FOOTER ── */
    footer { background: var(--navy); color: rgba(255,255,255,.5); padding: 1.8rem 2rem; text-align: center; font-family: 'IBM Plex Mono', monospace; font-size: 0.8rem; letter-spacing: 0.06em; }
    footer a { color: rgba(255,255,255,.72); }

    /* ── REVEAL ── */
    .reveal { opacity: 1; transform: none; transition: opacity .55s ease, transform .55s ease; }
    .reveal.in { opacity: 1; transform: none; }

    /* ── RESPONSIVE ── */
    @media(max-width:880px){
      .hero-in, .exp, .edu { grid-template-columns: 1fr; gap: 1rem; }
      .photo-circle { width: 140px; height: 140px; }
      /* cards removed - now .projects handles responsive via project grid-template override above */
      .two-col { grid-template-columns: 1fr; }
      .sk-table td:first-child { width: 145px; font-size: 0.66rem; }
      .talk { grid-template-columns: 1fr; }
    }
    @media(max-width:600px){
      .nav-links { display: none; }
      .hero { padding: 90px 0 56px; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-in">
    <a class="nav-brand" href="#">Rajan Gyawali</a>
    <ul class="nav-links">
      <li><a href="#research">Research</a></li>
      <li><a href="#publications">Publications</a></li>
      <li><a href="#experience">Experience</a></li>
      <li><a href="#education">Education</a></li>
      <li><a href="#skills">Skills</a></li>
      <li><a href="#service">Service</a></li>
      <li><a class="nav-cv" href="https://github.com/rajangyawali/rajangyawali.github.io/blob/master/others/files/Rajan%20Gyawali%20-%20CV.pdf" target="_blank">CV ↓</a></li>
    </ul>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="wrap">
    <div class="hero-in">

      <div class="photo-wrap">
        <div class="photo-circle">
          <img src="https://rajangyawali.github.io/img/raj.JPG" alt="Rajan Gyawali"
               onerror="this.style.display='none'; document.querySelector('.photo-initials').style.display='flex';" />
          <div class="photo-initials">RG</div>
        </div>
      </div>

      <div>
        <div class="hero-badge"><span class="badge-dot"></span>Seeking Postdoctoral Positions · 2026</div>
        <h1 class="name">Rajan Gyawali</h1>
        <p class="hero-role">PhD Candidate in Computer Science</p>
        <p class="hero-affil">
          <strong>Bioinformatics &amp; Machine Learning Lab</strong> · University of Missouri–Columbia
          &nbsp;·&nbsp; Advisor: <strong>Dr. Jianlin Cheng</strong>
        </p>

        <p class="hero-bio">
          I am a computational biology researcher developing deep learning methods that bridge artificial intelligence and structural biology. My doctoral work at the University of Missouri focuses on cryo-electron microscopy (cryo-EM) — the Nobel Prize-winning technique for visualizing molecular machines at near-atomic resolution. I build models that automate protein particle detection, enable 3D atomic reconstruction of protein complexes by fusing experimental cryo-EM data with AI-predicted structures (AlphaFold3), and reduce expert annotation bottlenecks through few-shot learning. My datasets and tools have been adopted by the broader cryo-EM community, with benchmark contributions accumulating 45+ citations. I am actively seeking postdoctoral opportunities at the intersection of machine learning, structural biology, and biomedical imaging.
        </p>

        <div class="hero-btns">
          <a class="btn btn-solid" href="https://github.com/rajangyawali/rajangyawali.github.io/blob/master/others/files/Rajan%20Gyawali%20-%20CV.pdf" target="_blank">Download CV</a>
          <a class="btn btn-ghost" href="https://scholar.google.com/citations?user=qzXOzEkAAAAJ&hl=en" target="_blank">Google Scholar</a>
          <a class="btn btn-ghost" href="https://github.com/rajangyawali" target="_blank">GitHub</a>
          <a class="btn btn-ghost" href="https://www.linkedin.com/in/rajangyawali/" target="_blank">LinkedIn</a>
        </div>

        <div class="hero-chips">
          <a class="chip" href="/cdn-cgi/l/email-protection#621005090550220f0b11110d17100b4c070617">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M2 7l10 7 10-7"/></svg>
            rgkg2&#64;missouri.edu
          </a>
          <a class="chip" href="/cdn-cgi/l/email-protection#c3b1a2a9a2ada4baa2b4a2afaaedadb383a4aea2aaafeda0acae">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M2 7l10 7 10-7"/></svg>
            rajangyawali.np&#64;gmail.com
          </a>
          <span class="chip">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/><circle cx="12" cy="9" r="2.5"/></svg>
            Columbia, MO
          </span>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- RESEARCH -->
<section class="sec" id="research">
  <div class="wrap">
    <h2 class="sec-title">Research</h2>
    <div class="projects reveal">

      <!-- PROJECT 1: MICA -->
      <div class="project proj-blue">
        <div class="proj-img">
          <!-- REPLACE src WITH YOUR UPLOADED FIGURE PATH, e.g. src="img/mica_fig1.png" -->
          <img src="img/mica_overview.png" alt="MICA architecture overview" />
          <div class="proj-img-caption">Fig. 1 — MICA workflow: multimodal integration of cryo-EM &amp; AlphaFold3</div>
        </div>
        <div class="proj-body">
          <div class="proj-num">Project 01</div>
          <span class="proj-tag pt-blue">3D Atomic Modeling · MICA</span>
          <div class="proj-title">Multimodal Deep Learning for Protein Complex Structure Determination</div>
          <div class="proj-desc">MICA integrates cryo-EM density maps with AlphaFold3 structural predictions using a multi-task encoder-decoder with feature pyramid networks. It predicts backbone atoms, Cα atoms, and amino acid types, achieving an average TM-score of <strong>0.93</strong> on high-resolution maps — outperforming all current state-of-the-art methods in accuracy and completeness.</div>
          <div class="proj-pills">
            <span class="pill">Encoder-Decoder</span>
            <span class="pill">Feature Pyramid Network</span>
            <span class="pill">AlphaFold3</span>
            <span class="pill">Multi-task Learning</span>
          </div>
          <div class="proj-meta">
            <span><strong>Published:</strong> Communications Chemistry (Nature Portfolio), 2025</span>
            <a href="https://doi.org/10.1038/s42004-025-01718-5" target="_blank">↗ Paper</a>
            <a href="https://github.com/jianlin-cheng/MICA" target="_blank">↗ Code</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 2: Particle Picking -->
      <div class="project proj-green">
        <div class="proj-img">
          <!-- REPLACE src WITH YOUR UPLOADED FIGURE PATH, e.g. src="img/cryosegnet_fig1.png" -->
          <img src="img/cryosegnet_overview.png" alt="CryoSegNet particle picking overview" />
          <div class="proj-img-caption">Fig. 1 — CryoSegNet: U-Net + SAM particle picking pipeline</div>
        </div>
        <div class="proj-body">
          <div class="proj-num">Project 02</div>
          <span class="proj-tag pt-green">Cryo-EM Particle Picking</span>
          <div class="proj-title">AI-Driven Protein Particle Picking: CryoSegNet, CryoTransformer &amp; CryoFSL</div>
          <div class="proj-desc">A suite of deep learning methods for automated cryo-EM particle picking. <strong>CryoSegNet</strong> integrates Meta's SAM with an attention-gated U-Net, achieving <strong>3.32 Å</strong> average resolution — 14% better than crYOLO and 7% better than Topaz. <strong>CryoTransformer</strong> achieves an F1-score of 0.747 on diverse proteins. <strong>CryoFSL</strong> reduces annotation cost by <strong>95%</strong> through few-shot learning, generalizing across protein types with minimal labeled data.</div>
          <div class="proj-pills">
            <span class="pill">Segment Anything Model</span>
            <span class="pill">Attention U-Net</span>
            <span class="pill">Vision Transformers</span>
            <span class="pill">Few-Shot Learning</span>
          </div>
          <div class="proj-meta">
            <span><strong>CryoSegNet:</strong> Briefings in Bioinformatics, 2024</span>
            <a href="https://academic.oup.com/bib/article/25/4/bbae282/7690949" target="_blank">↗ Paper</a>
            <a href="https://github.com/jianlin-cheng/CryoSegNet" target="_blank">↗ Code</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 3: Benchmark Datasets -->
      <div class="project proj-amber">
        <div class="proj-img">
          <!-- REPLACE src WITH YOUR UPLOADED FIGURE PATH, e.g. src="img/cryoppp_fig2.png" -->
          <img src="img/cryoppp_overview.png" alt="CryoPPP dataset overview" />
          <div class="proj-img-caption">Fig. 2 — CryoPPP dataset creation pipeline (Scientific Data, 2023)</div>
        </div>
        <div class="proj-body">
          <div class="proj-num">Project 03</div>
          <span class="proj-tag pt-amber">Benchmark Datasets</span>
          <div class="proj-title">Community-Standard Cryo-EM Benchmark Datasets: CryoPPP &amp; CryoVirusDB</div>
          <div class="proj-desc"><strong>CryoPPP</strong> is a 2.6 TB benchmark of 9,893 expert-labeled cryo-EM micrographs with 300K+ particle annotations across 34 protein types, validated rigorously by 2D class analysis and 3D density map reconstruction. It has become the community-standard training and evaluation dataset for cryo-EM particle picking with <strong>45+ citations</strong>. <strong>CryoVirusDB</strong> extends this to virus particles, providing the first annotated cryo-EM dataset for AI-based identification of icosahedral virus structures — enabling new antiviral research pipelines.</div>
          <div class="proj-pills">
            <span class="pill">Data Curation</span>
            <span class="pill">Expert Annotation</span>
            <span class="pill">3D Validation</span>
            <span class="pill">EMPIAR</span>
          </div>
          <div class="proj-meta">
            <span><strong>CryoPPP:</strong> Scientific Data (Nature), 2023 &nbsp;·&nbsp; <strong>CryoVirusDB:</strong> Viruses, 2026</span>
            <a href="https://www.nature.com/articles/s41597-023-02280-2" target="_blank">↗ CryoPPP</a>
            <a href="https://github.com/BioinfoMachineLearning/cryoppp" target="_blank">↗ Data</a>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- PUBLICATIONS -->
<section class="sec" id="publications">
  <div class="wrap">
    <h2 class="sec-title">Publications</h2>

    <div class="pub-filters">
      <button class="f-btn on" data-f="all">All (10)</button>
      <button class="f-btn" data-f="journal">Journals</button>
      <button class="f-btn" data-f="preprint">Preprints</button>
      <button class="f-btn" data-f="conference">Conferences</button>
    </div>

    <div class="pub-list reveal">

      <div class="pub" data-t="journal">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">CryoVirusDB: An Annotated Dataset for AI-Based Virus Particle Identification in Cryo-EM Micrographs</div>
          <div class="pub-auth"><strong>Gyawali R.</strong>, Dhakal A., Wang L., Cheng J.</div>
          <div class="pub-venue">Viruses, 18(2), 224 · 2026</div>
          <div class="pub-row"><span class="badge bj">Journal</span><span class="badge bd">Dataset</span></div>
        </div>
      </div>

      <div class="pub" data-t="journal">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">Multimodal Deep Learning Integration of Cryo-EM and AlphaFold3 for High-Accuracy Protein Structure Determination</div>
          <div class="pub-auth"><strong>Gyawali R.</strong>, Dhakal A., Cheng J.</div>
          <div class="pub-venue">Communications Chemistry (Nature), 8(1), 320 · 2025</div>
          <div class="pub-row">
            <span class="badge bj">Journal · Nature Portfolio</span>
            <button class="abs-btn" onclick="toggleAbs(this)">+ Abstract</button>
          </div>
          <div class="abs-text">MICA integrates cryo-EM density maps with AlphaFold3 structural predictions using encoder-decoder architectures and feature pyramid networks for automated 3D atomic modeling of protein complexes. The multimodal approach outperforms current state-of-the-art methods across diverse protein types and complexes.</div>
        </div>
      </div>

      <div class="pub" data-t="journal">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">Artificial Intelligence in Cryo-EM Protein Particle Picking: Recent Advances and Remaining Challenges</div>
          <div class="pub-auth">Dhakal A.*, <strong>Gyawali R.*</strong>, Wang L., Cheng J. <em style="font-size:0.82rem;color:var(--sub);">(*equal contribution)</em></div>
          <div class="pub-venue">Briefings in Bioinformatics, 26(1) · 2025</div>
          <div class="pub-row"><span class="badge bj">Journal · Review</span></div>
        </div>
      </div>

      <div class="pub" data-t="preprint">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">CryoFSL: An Annotation-Efficient, Few-Shot Learning Framework for Robust Protein Particle Picking in Cryo-EM Micrographs</div>
          <div class="pub-auth">Poudel B., <strong>Gyawali R.</strong>, Dhakal A., Cheng J., Xu D.</div>
          <div class="pub-venue">bioRxiv · 2025</div>
          <div class="pub-row">
            <span class="badge bp">Preprint</span>
            <button class="abs-btn" onclick="toggleAbs(this)">+ Abstract</button>
          </div>
          <div class="abs-text">CryoFSL reduces annotation requirements by 95% through a few-shot learning framework that generalizes across diverse protein types, significantly lowering the barrier to large-scale cryo-EM particle picking without extensive expert labeling overhead.</div>
        </div>
      </div>

      <div class="pub" data-t="journal">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">CryoSegNet: Accurate Cryo-EM Protein Particle Picking by Integrating the Foundational AI Image Segmentation Model and Attention-Gated U-Net</div>
          <div class="pub-auth"><strong>Gyawali R.</strong>, Dhakal A., Wang L., Cheng J.</div>
          <div class="pub-venue">Briefings in Bioinformatics, 25(4), bbae282 · 2024</div>
          <div class="pub-row">
            <span class="badge bj">Journal</span>
            <a class="pub-lnk" href="https://academic.oup.com/bib/article/25/4/bbae282/7690949" target="_blank">↗ Article</a>
            <a class="pub-lnk" href="https://github.com/jianlin-cheng/CryoSegNet" target="_blank">↗ Code</a>
            <button class="abs-btn" onclick="toggleAbs(this)">+ Abstract</button>
          </div>
          <div class="abs-text">Integrates Meta's Segment Anything Model (SAM) with a purpose-built attention-gated U-Net trained on large cryo-EM datasets. Achieves average density map resolution of 3.32 Å — 7% better than Topaz and 14% better than crYOLO — across diverse protein shapes, sizes, and noise conditions.</div>
        </div>
      </div>

      <div class="pub" data-t="journal">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">CryoTransformer: A Transformer Model for Picking Protein Particles from Cryo-EM Micrographs</div>
          <div class="pub-auth">Dhakal A., <strong>Gyawali R.</strong>, Wang L., Cheng J.</div>
          <div class="pub-venue">Bioinformatics, 40(3), btae109 · 2024</div>
          <div class="pub-row">
            <span class="badge bj">Journal</span>
            <a class="pub-lnk" href="https://academic.oup.com/bioinformatics/article/40/3/btae109/7614090" target="_blank">↗ Article</a>
            <a class="pub-lnk" href="https://github.com/jianlin-cheng/CryoTransformer" target="_blank">↗ Code</a>
          </div>
        </div>
      </div>

      <div class="pub" data-t="conference">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">Adapting Segment Anything Model (SAM) through Prompt-Based Learning for Enhanced Protein Identification in Cryo-EM Micrographs</div>
          <div class="pub-auth">He F., Yang Z., Gao M., Poudel B., Dhas N.S.E.S., <strong>Gyawali R.</strong>, Dhakal A., et al.</div>
          <div class="pub-venue">IEEE International Conference on Medical Artificial Intelligence (MedAI) · 2024</div>
          <div class="pub-row"><span class="badge bc">Conference</span></div>
        </div>
      </div>

      <div class="pub" data-t="journal">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">A Large Expert-Curated Cryo-EM Image Dataset for Machine Learning Protein Particle Picking</div>
          <div class="pub-auth">Dhakal A.*, <strong>Gyawali R.*</strong>, Wang L., Cheng J. <em style="font-size:0.82rem;color:var(--sub);">(*equal contribution)</em></div>
          <div class="pub-venue">Scientific Data (Nature), 10(1), 392 · 2023</div>
          <div class="pub-row">
            <span class="badge bj">Journal · Nature</span>
            <span class="badge bd">Dataset · 45+ citations</span>
            <a class="pub-lnk" href="https://www.nature.com/articles/s41597-023-02280-2" target="_blank">↗ Article</a>
          </div>
        </div>
      </div>

      <div class="pub" data-t="preprint">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">Predicting Protein-Ligand Binding Structure Using E(n) Equivariant Graph Neural Networks</div>
          <div class="pub-auth">Dhakal A.*, <strong>Gyawali R.*</strong>, Cheng J. <em style="font-size:0.82rem;color:var(--sub);">(*equal contribution)</em></div>
          <div class="pub-venue">bioRxiv, 2023.08.06.552202 · 2023</div>
          <div class="pub-row"><span class="badge bp">Preprint</span><span class="badge be">Equivariant GNN</span></div>
        </div>
      </div>

      <div class="pub" data-t="conference">
        <div class="pub-n"></div>
        <div>
          <div class="pub-title">An Approach for the Employee Face Recognition by RPN and Faster R-CNN Techniques</div>
          <div class="pub-auth"><strong>Gyawali R.</strong>, Pant D.R.</div>
          <div class="pub-venue">Proceedings of IOE Graduate Conference, Vol. 6 · 2019</div>
          <div class="pub-row">
            <span class="badge bc">Conference</span>
            <a class="pub-lnk" href="http://conference.ioe.edu.np/publications/ioegc2019-summer/IOEGC-2019-Summer-030.pdf" target="_blank">↗ Article</a>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- EXPERIENCE -->
<section class="sec" id="experience">
  <div class="wrap">
    <h2 class="sec-title">Experience</h2>
    <div class="reveal">

      <div class="exp">
        <div>
          <div class="exp-when">Aug 2022 – Present</div>
          <div class="exp-org">University of Missouri</div>
          <div class="exp-loc">Columbia, MO</div>
        </div>
        <div>
          <div class="exp-role">Graduate Researcher — Bioinformatics &amp; Machine Learning Lab</div>
          <ul class="exp-ul">
            <li>Developed <strong>MICA</strong>, a multimodal deep learning method integrating cryo-EM density maps and AlphaFold3 for automated 3D atomic modeling via encoder-decoder + feature pyramid networks, outperforming state-of-the-art.</li>
            <li>Designed <strong>CryoSegNet</strong>, an attention-gated U-Net + SAM framework achieving 7–14% improvement in 3D reconstruction resolution (3.32 Å) over crYOLO and Topaz.</li>
            <li>Curated <strong>CryoPPP</strong>, a 2.6 TB benchmark (9,893 micrographs, 300K+ labels, 34 proteins) — the community-standard cryo-EM dataset with 45+ citations.</li>
            <li>Developed <strong>CryoVirusDB</strong>, an annotated cryo-EM dataset for AI-based icosahedral virus particle identification and classification.</li>
            <li>Contributed to <strong>CryoFSL</strong> (95% annotation reduction via few-shot learning), <strong>CryoTransformer</strong> (0.747 F1-score), and <strong>SAM prompt-based learning</strong> for cryo-EM protein identification.</li>
            <li>Worked on <strong>protein-ligand binding structure prediction</strong> using E(n)-equivariant graph neural networks.</li>
            <li>Trained GNNs, diffusion models, and detection transformers using <strong>multi-node multi-GPU DDP</strong> on HPC clusters (Slurm, LSF); built large-scale parallel data preprocessing pipelines.</li>
          </ul>
        </div>
      </div>

      <div class="exp">
        <div>
          <div class="exp-when">May 2018 – Jun 2022</div>
          <div class="exp-org">Nepal Telecom</div>
          <div class="exp-loc">Kathmandu, Nepal</div>
        </div>
        <div>
          <div class="exp-role">Telecommunications Engineer</div>
          <ul class="exp-ul">
            <li>Built <strong>Wireless KPI Analytics Tool</strong> — a full-stack Django/REST web application for automated analysis of KPIs across 5,000+ network elements, reducing analysis time from days to minutes.</li>
            <li>Designed Python/SQL data pipelines processing <strong>10+ GB daily</strong> of network performance data with statistical analysis and real-time visualization.</li>
            <li>Developed <strong>LSTM-based predictive models</strong> for network anomaly detection and performance forecasting, improving reliability by 15%.</li>
            <li>Automated reporting workflows using Python scripting and task scheduling, reducing manual workload by <strong>80%</strong>.</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- EDUCATION -->
<section class="sec" id="education">
  <div class="wrap">
    <h2 class="sec-title">Education</h2>
    <div class="reveal">

      <div class="edu">
        <div><div class="edu-when">Aug 2022 – Dec 2026 (Expected)</div></div>
        <div>
          <div class="edu-deg">PhD, Computer Science</div>
          <div class="edu-sch">University of Missouri–Columbia, USA</div>
          <div class="edu-det">
            <p><strong>Emphasis:</strong> Deep Learning, Computational Biology &amp; Bioinformatics</p>
            <p><strong>Advisor:</strong> Dr. Jianlin Cheng · Dean's Fellowship recipient, 2022</p>
          </div>
        </div>
      </div>

      <div class="edu">
        <div><div class="edu-when">2017 – 2019</div></div>
        <div>
          <div class="edu-deg">MSc, Information and Communication Engineering</div>
          <div class="edu-sch">Pulchowk Campus, Tribhuvan University, Nepal</div>
          <span class="edu-pct">Score: 90.13%</span>
          <div class="edu-det">
            <p><strong>Thesis:</strong> Employee Face Recognition by RPN and Faster R-CNN — 96.0% accuracy on Chokepoint dataset</p>
            <p><strong>Project:</strong> CNN for Multiclass Face Recognition — 96.44% accuracy, 13K images, 5,749 identities</p>
            <p>Graduate Scholarship recipient, 2017</p>
          </div>
        </div>
      </div>

      <div class="edu">
        <div><div class="edu-when">2012 – 2016</div></div>
        <div>
          <div class="edu-deg">BE, Electronics and Communication Engineering</div>
          <div class="edu-sch">Himalaya College of Engineering, Tribhuvan University, Nepal</div>
          <span class="edu-pct">Score: 82.06%</span>
          <div class="edu-det">
            <p><strong>Final Project:</strong> Brain Controlled Wheelchair using BCI &amp; NeuroSky Mindwave</p>
            <p>Undergraduate Scholarship recipient, 2012</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- SKILLS -->
<section class="sec" id="skills">
  <div class="wrap">
    <h2 class="sec-title">Skills</h2>
    <table class="sk-table reveal">
      <tr>
        <td>Deep Learning</td>
        <td><div class="tags">
          <span class="tag">CNNs</span><span class="tag">Vision Transformers</span><span class="tag">U-Net</span><span class="tag">ResNet</span><span class="tag">Attention Mechanisms</span><span class="tag">Encoder-Decoder</span><span class="tag">GNNs</span><span class="tag">E(n)-Equivariant Networks</span><span class="tag">Diffusion Models</span><span class="tag">Detection Transformers</span><span class="tag">Few-Shot Learning</span><span class="tag">Prompt-Based Learning</span><span class="tag">Transfer Learning</span>
        </div></td>
      </tr>
      <tr>
        <td>Frameworks</td>
        <td><div class="tags">
          <span class="tag">PyTorch</span><span class="tag">PyTorch Lightning</span><span class="tag">PyTorch Geometric</span><span class="tag">DGL</span><span class="tag">TensorFlow</span><span class="tag">scikit-learn</span><span class="tag">NumPy</span><span class="tag">Pandas</span><span class="tag">SciPy</span><span class="tag">Matplotlib</span><span class="tag">Plotly</span>
        </div></td>
      </tr>
      <tr>
        <td>Structural Biology</td>
        <td><div class="tags">
          <span class="tag">Cryo-EM</span><span class="tag">Protein Structure Prediction</span><span class="tag">Protein-Ligand Binding</span><span class="tag">AlphaFold</span><span class="tag">RELION</span><span class="tag">CryoSPARC</span><span class="tag">UCSF ChimeraX</span><span class="tag">PyMOL</span><span class="tag">PyRosetta</span><span class="tag">Biopython</span><span class="tag">RDKit</span><span class="tag">Open Babel</span>
        </div></td>
      </tr>
      <tr>
        <td>HPC &amp; Distributed</td>
        <td><div class="tags">
          <span class="tag">Multi-GPU DDP</span><span class="tag">Multi-Node Training</span><span class="tag">Slurm</span><span class="tag">LSF</span><span class="tag">Parallel Processing</span>
        </div></td>
      </tr>
      <tr>
        <td>Languages</td>
        <td><div class="tags">
          <span class="tag">Python (Expert)</span><span class="tag">C++</span><span class="tag">Bash</span><span class="tag">R</span><span class="tag">SQL</span>
        </div></td>
      </tr>
      <tr>
        <td>Dev Tools</td>
        <td><div class="tags">
          <span class="tag">Git / GitHub</span><span class="tag">Docker</span><span class="tag">Linux</span><span class="tag">Weights &amp; Biases</span><span class="tag">TensorBoard</span><span class="tag">Jupyter</span><span class="tag">Django</span>
        </div></td>
      </tr>
    </table>
  </div>
</section>

<!-- TALKS -->
<section class="sec" id="talks">
  <div class="wrap">
    <h2 class="sec-title">Talks &amp; Presentations</h2>
    <div class="talk-list reveal">
      <div class="talk">
        <div class="talk-yr">2024</div>
        <div>
          <div class="talk-title">CryoSegNet: AI-based method for protein particle picking from cryo-EM density micrographs</div>
          <div class="talk-venue">Cryo-EM Super Group · University of Missouri, Columbia, MO</div>
        </div>
      </div>
      <div class="talk">
        <div class="talk-yr">2024</div>
        <div>
          <div class="talk-title">A large expert-curated cryo-EM image dataset for machine learning protein particle picking</div>
          <div class="talk-venue">RECOMB Conference (Poster Presentation) · Cambridge, MA</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SERVICE & AWARDS -->
<section class="sec" id="service">
  <div class="wrap">
    <h2 class="sec-title">Service &amp; Awards</h2>
    <div class="two-col reveal">
      <div>
        <div class="sub-h">Honors &amp; Fellowships</div>
        <ul class="aw-list">
          <li><span class="aw-yr">2022</span><span>Dean's Fellowship — University of Missouri</span></li>
          <li><span class="aw-yr">2017</span><span>Graduate Scholarship — Tribhuvan University</span></li>
          <li><span class="aw-yr">2012</span><span>Undergraduate Scholarship — Tribhuvan University</span></li>
        </ul>
      </div>
      <div>
        <div class="sub-h">Professional Service</div>
        <ul class="sv-list">
          <li><strong>Manuscript Reviewer</strong> — NeurIPS, Briefings in Bioinformatics, BMC Bioinformatics, Communications Chemistry</li>
          <li><strong>President</strong> — University of Missouri Nepalese Students Association (May 2025 – Apr 2026)</li>
          <li><strong>Treasurer</strong> — University of Missouri Nepalese Students Association (May 2024 – Apr 2025)</li>
          <li><strong>Member</strong> — Academic Affairs Committee, University of Missouri (Aug 2023 – May 2024)</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<footer>
  <p>&#169; 2026 Rajan Gyawali &nbsp;·&nbsp; PhD Candidate, University of Missouri–Columbia &nbsp;·&nbsp;
    <a href="/cdn-cgi/l/email-protection#daa8bdb1bde89ab7b3a9a9b5afa8b3f4bfbeaf">rgkg2&#64;missouri.edu</a>
  </p>
</footer>

<script>
  // Photo fallback
  (function() {
    var img = document.querySelector('.photo-circle img');
    if (img) {
      img.addEventListener('load', function() { document.querySelector('.photo-initials').style.display = 'none'; });
      if (img.complete && img.naturalHeight > 0) document.querySelector('.photo-initials').style.display = 'none';
    }
  })();

  // Abstract toggle
  function toggleAbs(btn) {
    var pub = btn.closest('.pub');
    pub.classList.toggle('open');
    btn.textContent = pub.classList.contains('open') ? '− Abstract' : '+ Abstract';
  }

  // Publication filter with live renumbering
  function filterPubs(f) {
    var pubs = document.querySelectorAll('.pub');
    var n = 1;
    for (var i = 0; i < pubs.length; i++) {
      var p = pubs[i];
      var show = (f === 'all') || (p.getAttribute('data-t') === f);
      p.style.display = show ? 'grid' : 'none';
      if (show) {
        var numEl = p.querySelector('.pub-n');
        if (numEl) numEl.textContent = '[' + n + ']';
        n++;
      }
    }
  }

  // Init filter buttons
  document.addEventListener('DOMContentLoaded', function() {
    filterPubs('all');
    var btns = document.querySelectorAll('.f-btn');
    for (var i = 0; i < btns.length; i++) {
      btns[i].addEventListener('click', function() {
        var allBtns = document.querySelectorAll('.f-btn');
        for (var j = 0; j < allBtns.length; j++) allBtns[j].classList.remove('on');
        this.classList.add('on');
        filterPubs(this.getAttribute('data-f'));
      });
    }
  });

  // Scroll reveal
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('in'); obs.unobserve(e.target); } });
  }, { threshold: 0.07 });
  document.querySelectorAll('.reveal').forEach(el => obs.observe(el));

  // Nav active
  const secs = document.querySelectorAll('section[id]');
  const navAs = document.querySelectorAll('.nav-links a[href^="#"]');
  window.addEventListener('scroll', () => {
     let cur = '';
    secs.forEach(s => { if (window.scrollY >= s.offsetTop - 140) cur = s.id; });
    navAs.forEach(a => a.classList.toggle('act', a.getAttribute('href') === '#' + cur));
  }, { passive: true });
</script>
</body>
</html>
